<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResumeRAG - Live Demo</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        .upload-area {
            border: 3px dashed #3b82f6;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            border-color: #1d4ed8;
            background-color: #eff6ff;
        }
        .upload-area.dragover {
            border-color: #1d4ed8;
            background-color: #dbeafe;
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Header -->
    <header class="gradient-bg shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
            <div class="text-center">
                <h1 class="text-4xl font-bold text-white mb-2">ResumeRAG</h1>
                <p class="text-gray-200 text-lg">AI-Powered Resume Search & Job Matching</p>
                <div class="mt-4">
                    <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800">
                        <i class="fas fa-check-circle mr-2"></i>Live Demo Ready
                    </span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        
        <!-- Job Matching Demo Section -->
        <div class="bg-white rounded-lg shadow-md p-6 mb-8">
            <h2 class="text-2xl font-bold text-gray-900 mb-6 text-center">
                <i class="fas fa-briefcase text-purple-600 mr-2"></i>
                Job Matching Demo - Find the Best Candidate
            </h2>
            
            <div class="text-center mb-8">
                <p class="text-gray-600 text-lg">Add a job description and upload multiple resumes to find the best match</p>
            </div>

            <!-- Job Description Input -->
            <div class="bg-gradient-to-r from-purple-50 to-blue-50 rounded-lg p-6 mb-8">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">
                    <i class="fas fa-edit text-purple-600 mr-2"></i>
                    Job Description
                </h3>
                
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Job Title</label>
                        <input type="text" id="job-title" placeholder="e.g., Senior React Developer" 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Company</label>
                        <input type="text" id="company-name" placeholder="e.g., TechCorp Inc." 
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                    </div>
                </div>

                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Job Description</label>
                    <textarea id="job-description" rows="6" placeholder="Enter the complete job description including requirements, responsibilities, and qualifications..."
                              class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500"></textarea>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Required Skills (comma-separated)</label>
                        <input type="text" id="required-skills" placeholder="React, Node.js, JavaScript, TypeScript"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Minimum Experience (years)</label>
                        <input type="number" id="min-experience" placeholder="3" min="0" max="20"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-gray-700 mb-2">Education Level</label>
                        <select id="education-level" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-purple-500 focus:border-purple-500">
                            <option value="">Any</option>
                            <option value="high-school">High School</option>
                            <option value="associate">Associate Degree</option>
                            <option value="bachelor">Bachelor's Degree</option>
                            <option value="master">Master's Degree</option>
                            <option value="phd">PhD</option>
                        </select>
                    </div>
                </div>

                <!-- Quick Job Templates -->
                <div class="mb-6">
                    <h4 class="font-medium text-gray-800 mb-3">Quick Job Templates:</h4>
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3">
                        <button onclick="applyJobTemplate('react-developer')" class="p-3 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors text-left">
                            <h5 class="font-medium text-gray-900">React Developer</h5>
                            <p class="text-sm text-gray-600">React, JavaScript, HTML, CSS</p>
                        </button>
                        <button onclick="applyJobTemplate('data-scientist')" class="p-3 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors text-left">
                            <h5 class="font-medium text-gray-900">Data Scientist</h5>
                            <p class="text-sm text-gray-600">Python, Machine Learning, SQL</p>
                        </button>
                        <button onclick="applyJobTemplate('devops-engineer')" class="p-3 border border-gray-200 rounded-lg hover:border-purple-300 hover:bg-purple-50 transition-colors text-left">
                            <h5 class="font-medium text-gray-900">DevOps Engineer</h5>
                            <p class="text-sm text-gray-600">AWS, Docker, Kubernetes</p>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Resume Upload Section -->
            <div class="bg-gradient-to-r from-blue-50 to-green-50 rounded-lg p-6 mb-8">
                <h3 class="text-xl font-semibold text-gray-900 mb-4">
                    <i class="fas fa-upload text-blue-600 mr-2"></i>
                    Upload Resumes (Upload 3+ for Best Results)
                </h3>
                
                <!-- Upload Area -->
                <div class="upload-area border-3 border-dashed border-blue-400 rounded-lg p-8 text-center cursor-pointer hover:border-blue-600 hover:bg-blue-50 transition-all duration-300" 
                     onclick="document.getElementById('resume-input').click()" 
                     ondrop="handleResumeDrop(event)" 
                     ondragover="handleResumeDragOver(event)" 
                     ondragleave="handleResumeDragLeave(event)">
                    <div class="space-y-4">
                        <i class="fas fa-cloud-upload-alt text-5xl text-blue-400"></i>
                        <div>
                            <h4 class="text-xl font-medium text-gray-900 mb-2">Click Here to Upload Resumes</h4>
                            <p class="text-gray-600 mb-4">or drag and drop multiple files here</p>
                            <button class="bg-blue-600 text-white px-6 py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors shadow-lg">
                                <i class="fas fa-upload mr-2"></i>Choose Resume Files
                            </button>
                        </div>
                        <p class="text-sm text-gray-500">Supported formats: PDF, DOC, DOCX, TXT (max 10MB each)</p>
                    </div>
                </div>

                <input type="file" id="resume-input" accept=".pdf,.txt,.doc,.docx" multiple class="hidden">

                <!-- Uploaded Resumes Display -->
                <div id="uploaded-resumes" class="hidden mt-6">
                    <h4 class="text-lg font-medium text-gray-900 mb-4">Uploaded Resumes:</h4>
                    <div id="resumes-list" class="space-y-3">
                        <!-- Resumes will be displayed here -->
                    </div>
                </div>
            </div>

            <!-- Match Analysis Button -->
            <div class="text-center mb-8">
                <button id="analyze-button" onclick="analyzeJobMatches()" disabled
                        class="bg-purple-600 text-white px-8 py-4 rounded-lg text-lg font-medium hover:bg-purple-700 transition-colors shadow-lg disabled:bg-gray-400 disabled:cursor-not-allowed">
                    <i class="fas fa-search mr-2"></i>Find Best Match
                </button>
                <p class="text-sm text-gray-500 mt-2">Upload resumes and add job description to enable analysis</p>
            </div>

            <!-- Match Results -->
            <div id="match-results" class="hidden">
                <h3 class="text-xl font-semibold text-gray-900 mb-6">
                    <i class="fas fa-trophy text-yellow-600 mr-2"></i>
                    Match Analysis Results
                </h3>
                
                <div id="results-content">
                    <!-- Results will be displayed here -->
                </div>
            </div>
        </div>

        <!-- Features Section -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <div class="bg-blue-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-upload text-blue-600 text-2xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">Multiple Upload</h3>
                <p class="text-gray-600">Upload multiple resumes simultaneously for batch processing</p>
            </div>
            
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <div class="bg-green-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-search text-green-600 text-2xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">AI Matching</h3>
                <p class="text-gray-600">Advanced AI algorithms to find the best candidate matches</p>
            </div>
            
            <div class="bg-white rounded-lg shadow-md p-6 text-center">
                <div class="bg-purple-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-chart-bar text-purple-600 text-2xl"></i>
                </div>
                <h3 class="text-lg font-semibold text-gray-900 mb-2">Detailed Analysis</h3>
                <p class="text-gray-600">Comprehensive scoring with strengths, weaknesses, and evidence</p>
            </div>
        </div>
    </main>

    <script>
        // Job Matching Demo functionality
        const resumeInput = document.getElementById('resume-input');
        const uploadedResumesDiv = document.getElementById('uploaded-resumes');
        const resumesList = document.getElementById('resumes-list');
        const analyzeButton = document.getElementById('analyze-button');
        const matchResultsDiv = document.getElementById('match-results');
        const resultsContent = document.getElementById('results-content');

        let uploadedResumes = [];

        resumeInput.addEventListener('change', handleResumeSelect);

        // Job template data
        const jobTemplates = {
            'react-developer': {
                title: 'Senior React Developer',
                company: 'TechCorp Inc.',
                description: 'We are looking for a Senior React Developer to join our dynamic team. You will be responsible for developing user interface components and implementing them following well-known React.js workflows. You will ensure that these components and the overall application are robust and easy to maintain.',
                skills: 'React, JavaScript, TypeScript, HTML, CSS, Redux, Node.js',
                experience: 5,
                education: 'bachelor'
            },
            'data-scientist': {
                title: 'Data Scientist',
                company: 'DataCorp Solutions',
                description: 'We are seeking a Data Scientist to analyze complex data sets and develop machine learning models. The ideal candidate will have strong analytical skills and experience with statistical analysis, machine learning algorithms, and data visualization.',
                skills: 'Python, Machine Learning, SQL, Statistics, TensorFlow, PyTorch, Pandas',
                experience: 3,
                education: 'master'
            },
            'devops-engineer': {
                title: 'DevOps Engineer',
                company: 'CloudTech Systems',
                description: 'We are looking for a DevOps Engineer to help us build and maintain our cloud infrastructure. You will be responsible for implementing CI/CD pipelines, managing cloud resources, and ensuring system reliability and scalability.',
                skills: 'AWS, Docker, Kubernetes, CI/CD, Linux, Terraform, Jenkins',
                experience: 4,
                education: 'bachelor'
            }
        };

        function applyJobTemplate(templateKey) {
            const template = jobTemplates[templateKey];
            if (template) {
                document.getElementById('job-title').value = template.title;
                document.getElementById('company-name').value = template.company;
                document.getElementById('job-description').value = template.description;
                document.getElementById('required-skills').value = template.skills;
                document.getElementById('min-experience').value = template.experience;
                document.getElementById('education-level').value = template.education;
                checkAnalysisButton();
            }
        }

        function handleResumeSelect(event) {
            const files = Array.from(event.target.files);
            if (files.length > 0) {
                uploadedResumes = files;
                displayResumes(files);
                checkAnalysisButton();
            }
        }

        function handleResumeDrop(event) {
            event.preventDefault();
            const files = Array.from(event.dataTransfer.files);
            if (files.length > 0) {
                resumeInput.files = event.dataTransfer.files;
                uploadedResumes = files;
                displayResumes(files);
                checkAnalysisButton();
            }
        }

        function handleResumeDragOver(event) {
            event.preventDefault();
            event.currentTarget.style.borderColor = '#2563eb';
            event.currentTarget.style.backgroundColor = '#eff6ff';
        }

        function handleResumeDragLeave(event) {
            event.currentTarget.style.borderColor = '#60a5fa';
            event.currentTarget.style.backgroundColor = 'transparent';
        }

        function displayResumes(files) {
            resumesList.innerHTML = '';
            files.forEach((file, index) => {
                const resumeDiv = document.createElement('div');
                resumeDiv.className = 'flex items-center justify-between p-4 bg-green-50 border border-green-200 rounded-lg';
                resumeDiv.innerHTML = `
                    <div class="flex items-center space-x-3">
                        <div class="bg-green-100 p-2 rounded-full">
                            <i class="fas fa-file-alt text-green-600"></i>
                        </div>
                        <div>
                            <h4 class="font-semibold text-green-800">${file.name}</h4>
                            <p class="text-sm text-green-600">${formatFileSize(file.size)} ‚Ä¢ ${getFileType(file.type)}</p>
                        </div>
                    </div>
                    <div class="flex items-center space-x-2">
                        <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            <i class="fas fa-check mr-1"></i>Ready
                        </span>
                        <button onclick="removeResume(${index})" class="text-red-600 hover:text-red-800 p-1 rounded-full hover:bg-red-50">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                `;
                resumesList.appendChild(resumeDiv);
            });
            uploadedResumesDiv.classList.remove('hidden');
        }

        function removeResume(index) {
            uploadedResumes.splice(index, 1);
            if (uploadedResumes.length > 0) {
                displayResumes(uploadedResumes);
            } else {
                uploadedResumesDiv.classList.add('hidden');
            }
            checkAnalysisButton();
        }

        function checkAnalysisButton() {
            const hasJobInfo = document.getElementById('job-title').value.trim() && 
                              document.getElementById('job-description').value.trim();
            const hasResumes = uploadedResumes.length >= 1;
            
            analyzeButton.disabled = !(hasJobInfo && hasResumes);
            
            if (hasJobInfo && hasResumes) {
                analyzeButton.classList.remove('disabled:bg-gray-400', 'disabled:cursor-not-allowed');
                analyzeButton.classList.add('bg-purple-600', 'hover:bg-purple-700');
            } else {
                analyzeButton.classList.add('disabled:bg-gray-400', 'disabled:cursor-not-allowed');
                analyzeButton.classList.remove('bg-purple-600', 'hover:bg-purple-700');
            }
        }

        // Add event listeners to form fields
        document.getElementById('job-title').addEventListener('input', checkAnalysisButton);
        document.getElementById('job-description').addEventListener('input', checkAnalysisButton);

        function analyzeJobMatches() {
            if (analyzeButton.disabled) return;

            const jobTitle = document.getElementById('job-title').value;
            const company = document.getElementById('company-name').value;
            const jobDescription = document.getElementById('job-description').value;
            const requiredSkills = document.getElementById('required-skills').value.split(',').map(s => s.trim()).filter(s => s);
            const minExperience = parseInt(document.getElementById('min-experience').value) || 0;
            const educationLevel = document.getElementById('education-level').value;

            // Generate mock match results
            const matches = uploadedResumes.map((file, index) => {
                const candidateName = extractNameFromFilename(file.name);
                const skills = getRandomSkills();
                const experience = Math.floor(Math.random() * 8) + 1;
                
                // Calculate match score based on skills and experience
                let score = 0;
                const skillMatches = skills.filter(skill => 
                    requiredSkills.some(reqSkill => 
                        skill.toLowerCase().includes(reqSkill.toLowerCase()) || 
                        reqSkill.toLowerCase().includes(skill.toLowerCase())
                    )
                ).length;
                
                score += (skillMatches / Math.max(requiredSkills.length, 1)) * 40;
                score += Math.min(experience / Math.max(minExperience, 1), 1) * 30;
                score += Math.random() * 30; // Random factor for demo
                
                score = Math.min(Math.round(score), 100);

                return {
                    resumeId: `demo_${Date.now()}_${index}`,
                    candidateName: candidateName,
                    resumeName: file.name,
                    score: score,
                    experience: experience,
                    skills: skills,
                    evidence: generateEvidence(skills, requiredSkills, experience, minExperience),
                    missingRequirements: generateMissingRequirements(skills, requiredSkills, experience, minExperience, educationLevel),
                    strengths: generateStrengths(skills, experience),
                    weaknesses: generateWeaknesses(skills, requiredSkills, experience, minExperience)
                };
            });

            // Sort by score (highest first)
            matches.sort((a, b) => b.score - a.score);

            displayMatchResults(jobTitle, company, matches);
        }

        function generateEvidence(skills, requiredSkills, experience, minExperience) {
            const evidence = [];
            
            // Add skill evidence
            const matchingSkills = skills.filter(skill => 
                requiredSkills.some(reqSkill => 
                    skill.toLowerCase().includes(reqSkill.toLowerCase()) || 
                    reqSkill.toLowerCase().includes(skill.toLowerCase())
                )
            );
            
            matchingSkills.forEach(skill => {
                evidence.push({
                    text: `Strong experience with ${skill} demonstrated in previous projects`,
                    relevance: 'high',
                    type: 'skill',
                    similarity: Math.floor(Math.random() * 20) + 80
                });
            });

            // Add experience evidence
            if (experience >= minExperience) {
                evidence.push({
                    text: `${experience} years of professional experience in relevant technologies`,
                    relevance: 'high',
                    type: 'experience',
                    similarity: Math.floor(Math.random() * 15) + 85
                });
            }

            return evidence.slice(0, 3); // Limit to 3 pieces of evidence
        }

        function generateMissingRequirements(skills, requiredSkills, experience, minExperience, educationLevel) {
            const missing = [];
            
            const missingSkills = requiredSkills.filter(reqSkill => 
                !skills.some(skill => 
                    skill.toLowerCase().includes(reqSkill.toLowerCase()) || 
                    reqSkill.toLowerCase().includes(skill.toLowerCase())
                )
            );
            
            missingSkills.forEach(skill => {
                missing.push(`Missing required skill: ${skill}`);
            });
            
            if (experience < minExperience) {
                missing.push(`Below required experience level (${experience} years vs ${minExperience} years required)`);
            }
            
            return missing;
        }

        function generateStrengths(skills, experience) {
            const strengths = [];
            
            if (experience >= 5) {
                strengths.push('Senior-level experience');
            }
            
            if (skills.length >= 5) {
                strengths.push('Diverse technical skill set');
            }
            
            strengths.push('Strong technical background');
            
            return strengths;
        }

        function generateWeaknesses(skills, requiredSkills, experience, minExperience) {
            const weaknesses = [];
            
            if (experience < minExperience) {
                weaknesses.push('Limited professional experience');
            }
            
            const skillGaps = requiredSkills.filter(reqSkill => 
                !skills.some(skill => 
                    skill.toLowerCase().includes(reqSkill.toLowerCase()) || 
                    reqSkill.toLowerCase().includes(skill.toLowerCase())
                )
            );
            
            if (skillGaps.length > 0) {
                weaknesses.push('Missing some required technical skills');
            }
            
            return weaknesses;
        }

        function displayMatchResults(jobTitle, company, matches) {
            const bestMatch = matches[0];
            
            resultsContent.innerHTML = `
                <div class="mb-8">
                    <div class="bg-gradient-to-r from-yellow-400 to-orange-500 rounded-lg p-6 text-white mb-6">
                        <div class="flex items-center justify-between">
                            <div>
                                <h4 class="text-2xl font-bold mb-2">üèÜ Best Match Found!</h4>
                                <p class="text-lg">${bestMatch.candidateName} - ${bestMatch.score}% Match</p>
                            </div>
                            <div class="text-right">
                                <div class="text-4xl font-bold">${bestMatch.score}%</div>
                                <div class="text-sm opacity-90">Compatibility Score</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8">
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Job Details</h4>
                        <div class="space-y-2">
                            <p><strong>Position:</strong> ${jobTitle}</p>
                            <p><strong>Company:</strong> ${company}</p>
                            <p><strong>Required Skills:</strong> ${document.getElementById('required-skills').value}</p>
                            <p><strong>Min Experience:</strong> ${document.getElementById('min-experience').value} years</p>
                        </div>
                    </div>
                    
                    <div class="bg-white border border-gray-200 rounded-lg p-6">
                        <h4 class="text-lg font-semibold text-gray-900 mb-4">Best Candidate</h4>
                        <div class="space-y-2">
                            <p><strong>Name:</strong> ${bestMatch.candidateName}</p>
                            <p><strong>Resume:</strong> ${bestMatch.resumeName}</p>
                            <p><strong>Experience:</strong> ${bestMatch.experience} years</p>
                            <p><strong>Skills:</strong> ${bestMatch.skills.join(', ')}</p>
                        </div>
                    </div>
                </div>

                <div class="space-y-6">
                    ${matches.map((match, index) => `
                        <div class="bg-white border border-gray-200 rounded-lg p-6 ${index === 0 ? 'ring-2 ring-yellow-400' : ''}">
                            <div class="flex items-center justify-between mb-4">
                                <div class="flex items-center space-x-3">
                                    <div class="text-2xl">${index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : 'üìÑ'}</div>
                                    <div>
                                        <h4 class="text-lg font-semibold text-gray-900">${match.candidateName}</h4>
                                        <p class="text-sm text-gray-600">${match.resumeName}</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-2xl font-bold text-gray-900">${match.score}%</div>
                                    <div class="text-sm text-gray-600">Match Score</div>
                                </div>
                            </div>
                            
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                                <div class="bg-green-50 border border-green-200 rounded-lg p-3">
                                    <h5 class="font-medium text-green-800 mb-2">Strengths</h5>
                                    <ul class="text-sm text-green-700 space-y-1">
                                        ${match.strengths.map(strength => `<li>‚Ä¢ ${strength}</li>`).join('')}
                                    </ul>
                                </div>
                                
                                <div class="bg-red-50 border border-red-200 rounded-lg p-3">
                                    <h5 class="font-medium text-red-800 mb-2">Weaknesses</h5>
                                    <ul class="text-sm text-red-700 space-y-1">
                                        ${match.weaknesses.length > 0 ? match.weaknesses.map(weakness => `<li>‚Ä¢ ${weakness}</li>`).join('') : '<li>‚Ä¢ No major weaknesses</li>'}
                                    </ul>
                                </div>
                                
                                <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-3">
                                    <h5 class="font-medium text-yellow-800 mb-2">Missing Requirements</h5>
                                    <ul class="text-sm text-yellow-700 space-y-1">
                                        ${match.missingRequirements.length > 0 ? match.missingRequirements.map(req => `<li>‚Ä¢ ${req}</li>`).join('') : '<li>‚Ä¢ All requirements met</li>'}
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="bg-gray-50 rounded-lg p-4">
                                <h5 class="font-medium text-gray-800 mb-2">Evidence</h5>
                                <div class="space-y-2">
                                    ${match.evidence.map(evidence => `
                                        <div class="text-sm text-gray-700 p-2 bg-white rounded border-l-4 border-blue-400">
                                            <strong>${evidence.type}:</strong> ${evidence.text}
                                            <span class="text-blue-600 ml-2">(${evidence.similarity}% relevance)</span>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            `;
            
            matchResultsDiv.classList.remove('hidden');
        }

        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
        }

        function getFileType(mimeType) {
            const types = {
                'application/pdf': 'PDF Document',
                'text/plain': 'Text File',
                'application/msword': 'Microsoft Word Document',
                'application/vnd.openxmlformats-officedocument.wordprocessingml.document': 'Microsoft Word Document (DOCX)'
            };
            return types[mimeType] || 'Unknown File Type';
        }

        function extractNameFromFilename(filename) {
            const name = filename.replace(/\.[^/.]+$/, "").replace(/[_-]/g, " ");
            return name.split(' ').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');
        }

        function getRandomSkills() {
            const allSkills = [
                'React', 'Node.js', 'JavaScript', 'Python', 'Java', 'C++', 'SQL', 'MongoDB',
                'AWS', 'Docker', 'Kubernetes', 'Git', 'HTML', 'CSS', 'TypeScript', 'Vue.js',
                'Angular', 'Express.js', 'Django', 'Flask', 'Spring Boot', 'Machine Learning',
                'Data Science', 'TensorFlow', 'PyTorch', 'REST API', 'GraphQL', 'Redis',
                'PostgreSQL', 'MySQL', 'Firebase', 'Azure', 'GCP', 'Linux', 'Agile', 'Scrum'
            ];
            
            const numSkills = Math.floor(Math.random() * 5) + 3;
            const shuffled = allSkills.sort(() => 0.5 - Math.random());
            return shuffled.slice(0, numSkills);
        }
    </script>
</body>
</html>
